<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PÃ¡gina Restrita 2</title>
</head>
<body>
    <h1 id="welcome"> Hellooo 2</h1>

    <script src="https://cdn.auth0.com/js/auth0/9.13/auth0.min.js"></script>
    <script>
        const auth0 = new Auth0Client({
            domain: 'dev-zgzdssuejv8valwt.us.auth0.com',
            client_id: 'weJF0eLhBwiw9whoJBYnTOn7jLIfT95L',
            redirect_uri: window.location.origin
        });

        async function login() {
            await auth0.loginWithRedirect();
        }

        async function logout() {
            auth0.logout({
                returnTo: window.location.origin
            });
        }

        window.onload = async () => {
            const isAuthenticated = await auth0.isAuthenticated();
            if (!isAuthenticated) {
                login();
            } else {
                const user = await auth0.getUser();
                document.getElementById('welcome').innerText = `Bem-vindo, ${user.name}`;
            }
        };
    </script>
</body>
</html>
